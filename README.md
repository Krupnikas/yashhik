# Ящик - Телеграм бот для запуска видео на Яндекс.Станции
![Logo](https://github.com/Krupnikas/yashhik/raw/master/logo.jpg)
## Описание
Яндекс.Станция позволяет искать видео в интернете, используя поисковый движок Яндекс.Видео. К сожалению, такой подход не удобен для просмотра видео с YouTube. Новинки появляются не сразу, а поиск даже с дословным произношением названия ролика не всегда даёт результат.

Этот бот позволяет запускать видео простой отправкой ссылки на ролик. В ответ присылает ответ Станции. Поддерживаются ссылки на YouTube, а в перспективе - и на другие сервисы.
## Как запустить
Нужно [создать бота](https://habr.com/ru/post/262247/) и получить **токен**. Понадобятся ещё **логин** и **пароль** от аккаунта на Яндексе. А также **прокси** для работы телеграмма, если запускаете из России.

Прописываем данные в файл config.py:
```
login = "YANDEX_LOGIN"
password = "YANDEX_PASSWORD"
telegram_bot_token = "TG_BOT_TOKEN"

# To disable proxy: proxy = None
proxy = { 
    'proxy_url': 'http://host:port',
}
```
Осталось установить пару библиотек и можно запускать!
```
pip3 install -r requirements.txt
python3 bot.py
```
## Что делать, если "Произошла ошибка при просмотре видео"
К сожалению, иногда Станция отвечает соообщением "success" даже если произошла какая-то ошибка и воспроизведение не началось. Как системно решить эту проблему, я пока не придумал. Но иногда она решается сбросом состояния плеера колонки. Для этого нужно сказать:

 \- Алиса, сначала
 
 \- Алиса, домой

А затем снова отправить ссылку на видео.

## Развитие
Если вы поймете, как избежать ошибок в воспроизведении, хотите доработать бота для работы через Oauth, добавить поддержку видео-сообщений телеграмма или других сервисов - Welcome! Было бы здорово пересылать сообщения от ботов - поисковиков видео в Ящик. 

[<img width="200" src="https://github.com/Krupnikas/yashhik/raw/master/donate.png"/>](https://money.yandex.ru/to/41001793099478/150)
